-- ============================================
-- votes 테이블의 UNIQUE 제약 조건 제거
-- ============================================
-- 문제: UNIQUE(election_id, voter_code_id) 때문에 
--       한 선거에서 여러 명에게 투표할 수 없음
-- 해결: 제약 조건 제거하고 애플리케이션 레벨에서 중복 방지
-- ============================================

-- 기존 유니크 제약 조건 제거
ALTER TABLE votes 
DROP CONSTRAINT IF EXISTS votes_election_voter_unique;

-- 참고: 중복 투표 방지는 애플리케이션 코드에서 처리
-- (투표 제출 전에 이미 투표했는지 체크하는 로직이 있음)
